<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Sasaran PKG Puskesmas Trenggalek</title>

    <!-- Bootstrap 5 CSS -->
    <!-- Bootstrap 5 CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <style>
      :root {
        --muted: #6c757d;
      }
      body {
        background-color: #f7f8fb;
        color: #222;
        font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto,
          "Helvetica Neue", Arial;
      }
      .app-header {
        padding: 2rem 0 1rem;
      }
      .card-person {
        border: 0;
        border-radius: 14px;
        box-shadow: 0 6px 18px rgba(28, 31, 46, 0.06);
        transition: transform 0.18s ease, box-shadow 0.18s ease;
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.98),
          rgba(255, 255, 255, 0.96)
        );
      }
      .card-person:hover {
        transform: translateY(-6px);
        box-shadow: 0 12px 30px rgba(28, 31, 46, 0.09);
      }
      .avatar {
        width: 84px;
        height: 84px;
        object-fit: cover;
        border-radius: 50%;
        border: 4px solid #fff;
        box-shadow: 0 6px 18px rgba(34, 41, 47, 0.07);
        margin-top: -42px; /* lift the avatar */
      }
      .card-body {
        padding-top: 0.75rem;
      }
      .person-name {
        font-weight: 600;
        margin-bottom: 0;
        font-size: 1rem;
      }
      .person-role {
        color: var(--muted);
        font-size: 0.85rem;
      }
      .card-head {
        height: 70px;
        background: linear-gradient(90deg, #eef2ff, #ffffff);
        border-top-left-radius: 14px;
        border-top-right-radius: 14px;
      }
      .grid-wrap {
        padding-bottom: 3rem;
      }
      @media (max-width: 420px) {
        .avatar {
          width: 72px;
          height: 72px;
          margin-top: -36px;
        }
      }
    </style>
  </head>
  <body>
    <main class="container py-4">
      <header class="app-header text-center">
        <h1 class="h4 mb-1">Sasaran PKG NON MEDIS Puskesmas Trenggalek</h1>
        <p class="text-muted mb-0">Daftar Petugas</p>
        <div class="col-md-6 mx-auto">
          <input
            type="text"
            id="searchInput"
            class="form-control"
            placeholder="Cari nama petugas..."
          />
        </div>
      </header>
      <a href="index.html" class="btn btn-outline-danger btn-sm"
        ><i class="bi bi-arrow-left"></i> Kembali</a
      >
      <section class="grid-wrap mt-4">
        <div class="row g-3" id="cardsContainer">
          <!-- Petugas cards -->
          <!-- 11 -->
          <div class="col-12 col-sm-6 col-md-4 col-lg-3">
            <div
              class="card card-person text-center pt-4"
              data-url="https://script.google.com/macros/s/AKfycbwuHQS6dnXHlZ-TC4H237lXkBdKkfBgrVroHhOeidmeq2gKrMi2KI7eDSKSMo58hLQxpA/exec"
            >
              <div class="card-head"></div>
              <div class="card-body d-flex flex-column align-items-center">
                <img
                  class="avatar"
                  src=""
                  alt="Foto Dewi"
                />
                <h3 class="person-name mt-3">`FITRI RETNA SARI</h3>
                <div class="person-role jabatan">-</div>
                <div class="person-role nip">NIP. -</div>
                <div class="img" style="display: none">
                  -
                </div>
              </div>
            </div>
          </div>
          <!-- 12 -->
          <div class="col-12 col-sm-6 col-md-4 col-lg-3">
            <div
              class="card card-person text-center pt-4"
              data-url="https://script.google.com/macros/s/AKfycbxBHHHiHPlKfhxraYLh80aKSt_rtGWRzTTDxsj-KRI-hAWp81i2iWYTZnuXxtJlZeAI/exec"
            >
              <div class="card-head"></div>
              <div class="card-body d-flex flex-column align-items-center">
                <img class="avatar" src="assets/rudy.jpg" alt="Foto Rudy" />
                <h3 class="person-name mt-3">RUDY KURNIAWAN, A.Md.K.L.</h3>
                <div class="person-role jabatan">
                  Tenaga Sanitasi Lingkungan
                </div>
                <div class="person-role nip">NIP. 19771107 200903 1 004</div>
                <div class="img" style="display: none">
                  ttd_197711072009031004.png
                </div>
              </div>
            </div>
          </div>
         
          <!-- 14 -->
          <div class="col-12 col-sm-6 col-md-4 col-lg-3">
            <div
              class="card card-person text-center pt-4"
              data-url="https://script.google.com/macros/s/AKfycbyO-A39m9KmoFZMEp5uUh3nsng_iouJxq-FNQDu-wBcxQpXZwlw5Nz8jj1WayeLG6g_PA/exec"
            >
              <div class="card-head"></div>
              <div class="card-body d-flex flex-column align-items-center">
                <img class="avatar" src="assets/titik.jpg" alt="Foto Titik" />
                <h3 class="person-name mt-3">TITIK SUWANTI, A.Md.AK</h3>
                <div class="person-role jabatan">
                  Pranata Laboratorium Kesehatan
                </div>
                <div class="person-role nip">NIP. 19800408 201101 2 011</div>
                <div class="img" style="display: none">
                  ttd_198004082011012011.jpg
                </div>
              </div>
            </div>
          </div>
         
          <!-- 20 -->
          <div class="col-12 col-sm-6 col-md-4 col-lg-3">
            <div
              class="card card-person text-center pt-4"
              data-url="https://script.google.com/macros/s/AKfycbwHUwvw7v7Ky9ScvVY4M1LEOGFsPO5zP4pqh9H_LYJMCeLjRBRFpXWoHkFaMp0im-pp/exec"
            >
              <div class="card-head"></div>
              <div class="card-body d-flex flex-column align-items-center">
                <img class="avatar" src="assets/bella.jpg" alt="Foto Bella" />
                <h3 class="person-name mt-3">BELLA NURVITASARI, A.Md.Kes.</h3>
                <div class="person-role jabatan">
                  Tenaga Sanitasi Lingkungan
                </div>
                <div class="person-role nip">NIP. 19970526 201903 2 001</div>
                <div class="img" style="display: none">
                  ttd_199705262019032001.png
                </div>
              </div>
            </div>
          </div>
          
         
         
          
          

          
          
         
        </div>
      </section>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      const searchInput = document.getElementById("searchInput");
      const cardsContainer = document.getElementById("cardsContainer");
      const cards = cardsContainer.getElementsByClassName("col-12");

      searchInput.addEventListener("keyup", function () {
        const filter = searchInput.value.toLowerCase();
        for (let i = 0; i < cards.length; i++) {
          const name = cards[i]
            .querySelector(".person-name")
            .textContent.toLowerCase();
          if (name.indexOf(filter) > -1) {
            cards[i].style.display = "";
          } else {
            cards[i].style.display = "none";
          }
        }
      });
      document.querySelectorAll(".card-person").forEach((card) => {
        card.addEventListener("click", () => {
          const apiUrl = card.dataset.url;
          window.location.href =
            "detailckglain.html?api=" + encodeURIComponent(apiUrl);
        });
      });
    </script>
    <script>
      document.querySelectorAll(".card-person").forEach((card) => {
        const baseUrl = card.dataset.url;

        const nama =
          card.querySelector(".person-name")?.textContent.trim() || "";
        const jabatan =
          card.querySelector(".person-role")?.textContent.trim() || "";
        const nip = card.querySelector(".nip")?.textContent.trim() || "";
        const ttd = card.querySelector(".img")?.textContent.trim() || "";

        // Buat URL dengan query string
        const fullUrl = `${baseUrl}?nama=${encodeURIComponent(
          nama
        )}&jabatan=${encodeURIComponent(jabatan)}&nip=${encodeURIComponent(
          nip
        )}&ttd=${encodeURIComponent(ttd)}`;

        // Update attribute data-url
        card.dataset.url = fullUrl;
        console.log("Data URL:", fullUrl);
      });
    </script>
  </body>
</html>
